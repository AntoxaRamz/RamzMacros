$${
TOGGLE(@obs);
DO;
IF(@obs);
	IF(%HITID% == "obsidian");
		IF(ITEM != "diamond_pickaxe");
			GETSLOT("diamond_pickaxe",#slot);
			SLOT(%#slot%);
			IF(ITEM != "diamond_pickaxe");
				UNSET(@obs);
			ENDIF;
		ENDIF;
		IF(ITEM == "diamond_pickaxe");
			KEY(ATTACK);
		ENDIF;
	ENDIF;
	IF(ITEM == "diamond_pickaxe");
		IF(DURABILITY <= 30);
			UNSET(@obs);
		ENDIF;
	ENDIF;
ENDIF;
WHILE(@obs);
}$$